% Step response ref 40.rpm 
% PID : 2.5 
% Filter : 1
% Sample_Time 200 ms
V = [
0.00		0.00
0.00		0.00
0.00		0.00
0.00		0.00
0.00		13.33
13.33		0.00
0.00		13.33
13.33		0.00
26.67		26.67
13.33		13.33
26.67		13.33
40.00		66.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
40.00		26.67
26.67		40.00
26.67		26.67
40.00		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		26.67
26.67		26.67
13.33		26.67
26.67		26.67
26.67		26.67
40.00		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		26.67
26.67		26.67
13.33		26.67
26.67		26.67
13.33		26.67
40.00		40.00
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
40.00		26.67
26.67		26.67
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		26.67
26.67		26.67
13.33		26.67
26.67		26.67
26.67		26.67
40.00		40.00
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		26.67
26.67		26.67
13.33		26.67
40.00		26.67
26.67		13.33
40.00		40.00
26.67		26.67
13.33		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		53.33
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		40.00
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
13.33		26.67
26.67		26.67
13.33		26.67
40.00		40.00
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		13.33
26.67		40.00
40.00		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		40.00
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
13.33		26.67
13.33		13.33
40.00		26.67
40.00		26.67
53.33		40.00
26.67		26.67
26.67		26.67
13.33		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		26.67
26.67		13.33
26.67		26.67
26.67		26.67

];

Av = 31;
Z = zeros((Av-1)/2, 1);
V = [Z(:,1) z(:); V(:,1)];

V_left_new = [Z ; V(:,1)];
V_right_new = [Z ; V(:,1)];

for n=(Av+1)/2:1:length(V)-((Av-1)/2)
    V_left_new(n) = 0;
    V_right_new(n) = 0;
    for v = -1*((Av-1)/2) : 1 : ((Av-1)/2)
        V_left_new(n) = V_left_new(n) + V(n-v,1) ;
        V_right_new(n) = V_right_new(n) + V(n-v,2) ;
    end
    V_left_new(n) = V_left_new(n) / Av;
    V_right_new(n) = V_right_new(n) / Av;
end
V_left = V(:,1);
V_right = V(:,2);

figure;
%plot(V_left);
plot(V_left_new);
hold on;
%plot(V_right);
plot(V_right_new);
hold off;